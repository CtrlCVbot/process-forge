---
name: governance-auditor
description: 문서의 거버넌스 규칙 준수 여부를 검증합니다. Owner 지정, docId 형식, 변경 통제 등을 확인합니다. "검증해줘", "감사해줘", "규칙 준수 확인", "compliance 체크" 요청 시 사용합니다.
---

# 거버넌스 감사기

이 스킬은 문서가 Process Forge의 거버넌스 규칙을 준수하는지 검증합니다.

## 사용 시점

이 스킬을 사용하는 경우:
- 문서의 거버넌스 규칙 준수 확인
- 문서 승인 전 검증
- 변경 통제 절차 준수 확인
- 정기 문서 감사

## 검증 대상 규칙

이 스킬은 다음 규칙 문서를 기준으로 검증합니다:

| 규칙 문서 | 검증 내용 |
|----------|----------|
| [ownership.md](../../rules/ownership.md) | 소유권 규칙 |
| [document-schema.md](../../rules/document-schema.md) | 문서 체계 규칙 |
| [change-control.md](../../rules/change-control.md) | 변경 통제 규칙 |

## 지침

### 1단계: 문서 유형 식별

문서의 docId 접두사로 유형을 확인합니다:

| 접두사 | 유형 | 설명 |
|--------|------|------|
| POL- | 정책 | 조직의 의사결정 기준 |
| PRC- | 프로세스 | 업무 수행 절차 |
| RUL- | 규칙 | 구체적 준수 사항 |
| CHG- | 변경 요청 | 문서 변경 관리 |

### 2단계: 소유권 규칙 검증

[ownership.md](../../rules/ownership.md) 기준으로 검증:

#### 2.1 Owner 지정 확인

| 검증 항목 | 기준 | 상태 |
|----------|------|------|
| Owner 존재 | 메타데이터에 owner 필드 있음 | ✅/❌ |
| 개인 지정 | Owner가 개인명 (팀/부서 아님) | ✅/❌ |
| Deputy 권장 | deputy 필드 존재 (권장) | ✅/⚠️ |

**위반 예시**:
- ❌ `owner: 기획팀` (팀은 Owner가 될 수 없음)
- ❌ owner 필드 누락
- ✅ `owner: 홍길동`

#### 2.2 Owner 책임 확인

- 문서 내 Owner 책임이 명시되어 있는가?
- RACI에서 A(Accountable)가 Owner와 일치하는가?

### 3단계: 문서 체계 규칙 검증

[document-schema.md](../../rules/document-schema.md) 기준으로 검증:

#### 3.1 docId 형식 검증

**형식**: `{TYPE}-{domain}-{seq}`

| 검증 항목 | 기준 | 상태 |
|----------|------|------|
| TYPE 유효성 | POL/PRC/RUL/CHG 중 하나 | ✅/❌ |
| domain 형식 | 소문자, 하이픈 허용, 공백 없음 | ✅/❌ |
| seq 형식 | 3자리 숫자 (001-999) | ✅/❌ |

**유효한 예시**:
- ✅ `PRC-planops-001`
- ✅ `POL-security-012`
- ✅ `RUL-doc-mgmt-003`

**무효한 예시**:
- ❌ `PRC_planops_001` (밑줄 사용)
- ❌ `prc-planops-001` (TYPE 소문자)
- ❌ `PRC-PlanOps-1` (대문자, 1자리)

#### 3.2 메타데이터 완전성

필수 메타데이터 필드 확인:

| 필드 | 필수 | 설명 |
|------|------|------|
| docId | O | 문서 식별자 |
| title | O | 문서 제목 |
| owner | O | 문서 Owner |
| status | O | 문서 상태 |
| version | O | 버전 번호 |
| created | O | 생성일 |
| updated | O | 수정일 |
| deputy | △ | 대리인 (권장) |

#### 3.3 파일명 규칙

- 파일명이 docId와 일치해야 함
- 예: `PRC-planops-001.md`

### 4단계: 변경 통제 규칙 검증

[change-control.md](../../rules/change-control.md) 기준으로 검증:

#### 4.1 상태별 검증

| 현재 상태 | 검증 내용 |
|----------|----------|
| Draft | 자유 수정 가능, 검증 최소화 |
| Review | 리뷰어 지정 확인 |
| Approved | 직접 수정 금지, CHG 필요 여부 확인 |
| Deprecated | 대체 문서 안내 확인 |

#### 4.2 Approved 문서 수정 감지

Approved 상태 문서가 수정된 경우:

1. **CHG 문서 존재 확인**: 해당 변경에 대한 CHG가 있는가?
2. **CHG 상태 확인**: CHG가 승인되었는가?
3. **변경 이력 확인**: 변경 이력 섹션이 업데이트되었는가?

**위반 감지 시**:
```markdown
⚠️ 경고: Approved 문서 직접 수정 감지

- 문서: {{docId}}
- 현재 상태: Approved
- 감지된 변경: {{변경 내용 요약}}

✅ 권장 조치:
1. 변경 내용을 CHG 문서로 작성
2. CHG 승인 후 원본 문서 수정
```

#### 4.3 CHG 문서 검증 (CHG 유형인 경우)

CHG 문서의 필수 항목 확인:

| 항목 | 필수 | 확인 |
|------|------|------|
| 대상 문서 docId | O | ✅/❌ |
| AS-IS 내용 | O | ✅/❌ |
| TO-BE 내용 | O | ✅/❌ |
| 변경 사유 | O | ✅/❌ |
| 영향도 분석 | O | ✅/❌ |
| 승인 이력 | O | ✅/❌ |

### 5단계: 종합 판정

검증 결과를 종합하여 준수율을 계산합니다:

**준수율 계산**:
```
준수율 = (준수 항목 수 / 전체 검증 항목 수) × 100%
```

**판정 기준**:

| 준수율 | 판정 | 조치 |
|--------|------|------|
| 100% | 완전 준수 | 승인 가능 |
| 80-99% | 부분 준수 | 경미한 수정 후 승인 |
| 50-79% | 미흡 | 주요 수정 필요 |
| 0-49% | 심각 | 재작성 권장 |

## 출력 형식

검증 결과는 다음 형식으로 출력합니다:

```markdown
## 거버넌스 검증 결과: {{docId}}

### 문서 정보

| 항목 | 내용 |
|------|------|
| **docId** | {{docId}} |
| **제목** | {{title}} |
| **유형** | {{POL/PRC/RUL/CHG}} |
| **Owner** | {{owner}} |
| **상태** | {{status}} |

---

### 검증 요약

| 구분 | 준수 | 위반 | 권고 |
|------|------|------|------|
| 소유권 규칙 | X | X | X |
| 문서 체계 규칙 | X | X | X |
| 변경 통제 규칙 | X | X | X |
| **합계** | **X** | **X** | **X** |

**준수율**: X% (판정: {{완전 준수/부분 준수/미흡/심각}})

---

### 상세 결과

#### 1. 소유권 규칙 (ownership.md)

| 항목 | 상태 | 내용 |
|------|------|------|
| Owner 지정 | ✅/❌ | {{설명}} |
| 개인 지정 | ✅/❌ | {{설명}} |
| Deputy 존재 | ✅/⚠️ | {{설명}} |

#### 2. 문서 체계 규칙 (document-schema.md)

| 항목 | 상태 | 내용 |
|------|------|------|
| docId 형식 | ✅/❌ | {{설명}} |
| 메타데이터 완전성 | ✅/❌ | {{설명}} |
| 파일명 일치 | ✅/❌ | {{설명}} |

#### 3. 변경 통제 규칙 (change-control.md)

| 항목 | 상태 | 내용 |
|------|------|------|
| 상태 적절성 | ✅/❌ | {{설명}} |
| 변경 절차 준수 | ✅/❌ | {{설명}} |
| 변경 이력 | ✅/❌ | {{설명}} |

---

### 위반 사항

#### 필수 수정 (위반)

| # | 규칙 | 위반 내용 | 조치 방법 |
|---|------|----------|----------|
| 1 | {{규칙}} | {{위반 내용}} | {{조치 방법}} |

#### 권고 사항

| # | 규칙 | 권고 내용 |
|---|------|----------|
| 1 | {{규칙}} | {{권고 내용}} |

---

### 다음 단계

- [ ] 위반 사항 수정
- [ ] 재검증 요청
- [ ] 상태 변경 ({{현재}} → {{목표}})
```

## 예시

### 검증 요청 예시

```
"이 문서 거버넌스 검증해줘"
"PRC-planops-001 compliance 체크"
"승인 전에 규칙 준수 확인해줘"
```

### 위반 감지 예시

```markdown
#### 필수 수정 (위반)

| # | 규칙 | 위반 내용 | 조치 방법 |
|---|------|----------|----------|
| 1 | ownership.md | Owner가 '기획팀'으로 팀 지정됨 | 개인(팀장)으로 변경 |
| 2 | document-schema.md | docId 'PRC_planops_001' 밑줄 사용 | 'PRC-planops-001'로 수정 |
| 3 | change-control.md | Approved 문서 직접 수정 | CHG 문서 작성 후 변경 |
```

## 모범 사례

1. **규칙 문서 참조**: 검증 시 항상 원본 규칙 문서 확인
2. **일관된 기준**: 동일한 기준으로 모든 문서 검증
3. **구체적 피드백**: 위반 사항과 수정 방법을 명확히 제시
4. **우선순위 구분**: 필수 수정과 권고 사항 분리
5. **재검증 안내**: 수정 후 재검증 절차 안내

## 관련 스킬

- **process-analyzer**: 프로세스 문서 구조/품질 분석
- **process-documenter**: 검증 통과 후 문서화

## 참조 문서

- [ownership.md](../../rules/ownership.md): 소유권 규칙
- [document-schema.md](../../rules/document-schema.md): 문서 체계 규칙
- [change-control.md](../../rules/change-control.md): 변경 통제 규칙
